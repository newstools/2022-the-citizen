Sri Lanka is mired in a deep political and economic crisis, and on Wednesday, the country’s president flew out of the country days after a huge crowd of protesters stormed his residence. The island nation of 22 million people has suffered months of lengthy blackouts, acute food and fuel shortages and galloping inflation in its most painful downturn on record. Months of protests have demanded the resignation of President Gotabaya Rajapaksa, whose government has been blamed for chronic mismanagement of the country’s finances. Here is a look back at how the crisis has unfolded: Rajapaksa declares a temporary state of emergency, giving Sri Lanka’s security forces sweeping powers to arrest and detain suspects, after a spate of protests. Almost all of Sri Lanka’s cabinet resigns at a late-night meeting, leaving Rajapaksa and his brother Mahinda — the prime minister — isolated. The governor of the central bank, having resisted calls to seek a bailout from the International Monetary Fund (IMF), announces his resignation a day later. President Rajapaksa’s problems deepen as finance minister Ali Sabry resigns just a day after he was appointed. The embattled leader loses his parliamentary majority as former allies urge him to quit. He lifts the state of emergency. Sri Lanka’s doctors say they are nearly out of life-saving medicines, warning that the crisis could end up killing more people than the coronavirus. The government announces it is defaulting on its foreign debt of $51 billion as a “last resort” after running out of foreign exchange to import desperately needed goods. Police kill a protester, the first casualty of several weeks of anti-government protests. The next day, the IMF says it has asked Sri Lanka to restructure its colossal external debt before a rescue package can be agreed. A mob of government loyalists bussed in from the countryside attacks peaceful protesters camped outside the president’s seafront office in Colombo.  Nine people are killed and hundreds more injured in the reprisal attacks that follow, with crowds targeting those responsible for the violence and setting fire to the homes of lawmakers.  Mahinda Rajapaksa resigns as prime minister and has to be rescued by troops after thousands of protesters storm his residence in Colombo.  He is replaced by Ranil Wickremesinghe, a political veteran who had already served several terms as premier.  The defence ministry orders troops to shoot on sight anyone involved in looting or “causing harm to life”. But protesters defy a fresh government curfew, which is rolled back at the end of the week.  The top police officer in Colombo is assaulted and his vehicle set ablaze. The United Nations warns that Sri Lanka is facing a dire humanitarian crisis, with millions already in need of aid. More than three-quarters of the population had reduced their food intake due to the country’s severe food shortages, the UN says. The government says Sri Lanka is nearly out of fuel and halts all petrol sales except for essential services.  The government publishes data showing inflation has hit a record high for the ninth consecutive month, a day after the IMF asks Sri Lanka to rein in prices. President Rajapaksa flees his official residence in Colombo with the assistance of troops, shortly before demonstrators storm the compound. He is taken to an undisclosed location. Footage from inside the residence shows jubilant protesters jumping in the pool and exploring its stately bedrooms. Wickremesinghe’s residence is set on fire. Police say he and his family were not at the scene. Rajapaksa later offers to step down on July 13, parliamentary speaker Mahinda Abeywardana says in a televised statement. President Rajapaksa flies to the Maldives on a military aircraft, accompanied by his wife and a bodyguard. His departure comes after a humiliating airport standoff in Colombo, where immigration staff did not allow VIP services and insisted all passengers go through public counters. The presidential party was reluctant to go through regular channels fearing public reactions, a security official says. NOW READ: Sri Lanka president near airport as exile rumours spread